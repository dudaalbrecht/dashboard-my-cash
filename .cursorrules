# 2Ô∏è‚É£ PROJECT RULES (Contexto t√©cnico e visual do projeto)

## üîπ Antes de gerar qualquer c√≥digo, execute mentalmente este pre-flight check:

- Confirme que est√° seguindo todas as User Rules e Project Rules
- Considere layout fluido e abordagem mobile-first
- Priorize vari√°veis sem√¢nticas; se n√£o existirem, use vari√°veis primitivas
- Garanta que o componente pai seja totalmente responsivo e fluido

---

## üîπ Stack e ferramentas

Este projeto utiliza:
- React com TypeScript
- Vite
- Tailwind CSS
- Supabase como backend

---

## üîπ Arquitetura e organiza√ß√£o

Arquitetura baseada em componentes.

**Regras:**
- Componentes devem ser pequenos e reutiliz√°veis
- P√°ginas apenas comp√µem componentes, sem l√≥gica de neg√≥cio
- L√≥gica de neg√≥cio deve ficar em hooks ou services
- Evitar duplica√ß√£o de l√≥gica

---

## üîπ Layout fluido & containers (REGRA CR√çTICA)

> **IMPORTANT** ‚Äî Layout fluido √© obrigat√≥rio.

**Regras:**
- N√£o gerar larguras fixas para containers de n√≠vel de p√°gina
- Containers principais devem sempre usar `width: 100%`
- Quando necess√°rio limitar largura, usar `max-width`, nunca `width` fixa
- Layout deve ser fluido e se adaptar ao viewport
- Prevenir qualquer tipo de overflow horizontal

---

## üîπ Figma ‚Üí C√≥digo (interpreta√ß√£o correta)

O frame pai do Figma **N√ÉO** representa um container fixo no c√≥digo.

**Regras:**
- Frames principais do Figma devem ser interpretados como wrappers fluidos
- Componentes pais copiados do Figma devem preencher a largura dispon√≠vel
- Nunca assumir tamanhos fixos baseados no frame do Figma
- Auto Layout deve ser traduzido para flex/grid responsivo
- Containers devem crescer e encolher conforme o viewport

---

## üîπ Responsividade e breakpoints

Este projeto √© totalmente responsivo e **mobile-first**.

**Regras:**
- Usar breakpoints expl√≠citos para desktop, tablet e mobile
- Nunca assumir apenas desktop
- Ajustar grid, tipografia e espa√ßamentos por breakpoint
- Garantir que todo layout caiba no tamanho do device do usu√°rio
- Nunca gerar barra de rolagem horizontal

### üìê BREAKPOINTS OFICIAIS

| Breakpoint | Range |
|------------|-------|
| Mobile (base) | < 768px |
| Tablet | ‚â• 768px e < 1280px |
| Desktop | ‚â• 1280px e < 1920px |
| Wide / 4K | ‚â• 1920px |

> ‚ö†Ô∏è O design base SEMPRE parte do mobile. Breakpoints apenas evoluem o layout, nunca o recriam.

### üåç REGRAS GLOBAIS DE LAYOUT

- Layout 100% fluido
- Containers principais: `width: 100%` (NUNCA fixo)
- Limita√ß√£o de leitura: usar `max-width`, nunca `width`
- Overflow horizontal √© proibido em qualquer resolu√ß√£o
- Frames do Figma N√ÉO representam containers fixos
- Sidebar afeta o layout apenas no desktop

### üß© TAILWIND CONFIG (BREAKPOINTS)

```javascript
screens: {
  'md': '768px',   // Tablet
  'lg': '1280px',  // Desktop
  'xl': '1920px',  // Wide / 4K
}
```

### üì¶ CONTAINERS E ESPA√áAMENTOS

**Padding padr√£o do conte√∫do principal (main):**
- Mobile: `px-4` (16px)
- Tablet: `px-6` (24px)
- Desktop: `px-8` (32px)

**Limites de largura:**
- Desktop: `max-w-[1400px]`
- Wide / 4K: `max-w-[1600px]`
  ‚Üí evita linhas longas demais em dashboards financeiros

---

## üß≠ SIDEBAR (REGRA IMPORTANTE)

> A sidebar **N√ÉO EXISTE** no mobile e tablet.

### Estados da Sidebar

**Desktop (‚â•1280px):**
- Sidebar vis√≠vel por padr√£o
- Possui dois estados:
  - **Expanded** (larga, com texto)
  - **Collapsed** (estreita, apenas √≠cones)
- A sidebar empurra o conte√∫do, n√£o sobrep√µe

**Mobile e Tablet (<1280px):**
- Sidebar n√£o renderiza
- Navega√ß√£o acontece via Header Mobile
- Menu aparece como overlay / drawer

### Regras cr√≠ticas

- ‚ùå NUNCA renderizar Sidebar + Header Mobile juntos
- ‚ùå Sidebar nunca deve causar overflow horizontal
- ‚ùå Sidebar n√£o deve existir como `display:none` no mobile, ela simplesmente n√£o deve ser renderizada

---

## üß± HEADER MOBILE

- Aparece apenas em `<1280px`
- Cont√©m:
  - Bot√£o de menu (abre drawer)
  - A√ß√µes principais (ex: nova transa√ß√£o)
- Some completamente no desktop

---

## üßÆ GRIDS PADR√ÉO (DASHBOARD)

**Mobile:**
- 1 coluna
- Cards empilhados

**Tablet:**
- 2 colunas quando fizer sentido

**Desktop:**
- 3 ou 4 colunas dependendo do componente
- Grids devem ser `auto-fit` / `auto-fill`, nunca hardcoded

---

## üî§ TIPOGRAFIA RESPONSIVA

- Mobile: reduzir ~15% dos tamanhos base
- Usar escala progressiva: `text-base md:text-lg lg:text-xl`
- Prioridade: legibilidade > densidade

---

## üëÜ INTERA√á√ïES TOUCH (OBRIGAT√ìRIO)

- Touch target m√≠nimo: **44x44px**
- Espa√ßo entre elementos clic√°veis: **‚â• 8px**
- Inputs no mobile:
  - Altura m√≠nima: **48px**
  - Font-size m√≠nimo: **16px** (evita zoom no iOS)

---

## üß™ TESTE OBRIGAT√ìRIO DE IMPLEMENTA√á√ÉO

Toda feature DEVE ser validada em:
- **375px** ‚Äì Mobile pequeno (iPhone SE)
- **768px** ‚Äì Tablet (iPad)
- **1280px** ‚Äì Desktop (laptop)
- **1920px** ‚Äì Wide (Full HD)

---

## üîπ Mobile (padr√£o obrigat√≥rio)

No mobile:
- Layout em coluna √∫nica por padr√£o
- Seguir o base design system da Uber para tamanhos e espa√ßamentos
- Priorizar legibilidade, toque e hierarquia visual
- Nunca reutilizar grids ou tamanhos de desktop

---

## üîπ Design System, Variables e Tokens (REGRA CR√çTICA)

### ‚ö†Ô∏è HIERARQUIA DE VARI√ÅVEIS (OBRIGAT√ìRIA)

Ao converter qualquer estilo do Figma para c√≥digo, siga esta ordem:

**1¬∫ Vari√°vel SEM√ÇNTICA aplicada no Figma?**
‚Üí Usar diretamente (`--color-primary`, `--spacing-container`, etc)

**2¬∫ Vari√°vel PRIMITIVA aplicada no Figma?**
‚Üí Usar diretamente (`--gray-900`, `--lime-500`, `--spacing-md`, etc)

**3¬∫ Valor local (hex, px, rem, etc)?**
‚Üí Executar CONVERS√ÉO INTELIGENTE:

**CORES HEX:**
- Comparar visualmente com primitivas da mesma fam√≠lia
- Escolher a primitiva MAIS PR√ìXIMA (ex: `#E5E5E5` ‚Üí `--gray-200`)
- NUNCA inventar novos tokens (`--gray-195` ‚ùå)

**ESPA√áAMENTOS PX/REM:**
- Arredondar para token da escala existente
- Escolher o MAIS PR√ìXIMO (ex: `28px` ‚Üí `--spacing-lg` se lg=32px)
- NUNCA usar valores quebrados (`--spacing-28` ‚ùå)

**TIPOGRAFIA:**
- Mapear peso: 400‚Üínormal, 600‚Üísemibold, 700‚Üíbold
- Mapear tamanho para escala tipogr√°fica
- Usar tokens de line-height quando dispon√≠vel

**4¬∫ NUNCA usar valores hardcoded**
‚Üí Se chegou aqui, algo est√° errado. Revisar etapas anteriores.

### Exemplos corretos / incorretos:

| Figma | C√≥digo | Status |
|-------|--------|--------|
| `var(--color-primary)` | `var(--color-primary)` | ‚úÖ |
| `var(--gray-900)` | `var(--gray-900)` | ‚úÖ |
| `#E5E5E5` | `--gray-200` ou `--border-color` | ‚úÖ |
| `24px` | `--spacing-md` ou similar | ‚úÖ |
| `#E5E5E5` | `#E5E5E5` | ‚ùå NUNCA |
| `28px` | `28px` | ‚ùå NUNCA |

### Regras adicionais:
- Nunca inventar novas vari√°veis sem solicita√ß√£o expl√≠cita
- Documentar TODAS as convers√µes no formato de resposta
- Priorizar sem√¢ntica sobre primitiva SEMPRE
- Quando em d√∫vida, perguntar antes de converter

---

## üîπ Formato de Resposta Obrigat√≥rio (AP√ìS cada Prompt)

Toda resposta ap√≥s executar um prompt DEVE seguir este formato:

```
‚úÖ PROMPT [N]: [Nome do Prompt] ‚Äî CONCLU√çDO

üìö PR√â-EXECU√á√ÉO
‚úì Rules relidas e aplicadas
‚úì Figma consultado e analisado
‚úì Hierarquia de vari√°veis verificada

üì¶ IMPLEMENTADO
- [Lista de funcionalidades/componentes implementados]
- [Uma linha por item principal]

üé® TOKENS UTILIZADOS
Sem√¢nticas: [listar tokens sem√¢nticos usados]
Primitivas: [listar tokens primitivos usados]
Convers√µes realizadas:
- [valor original] ‚Üí [token escolhido] (justificativa breve)
- Exemplo: #F5F5F5 ‚Üí --gray-50 (cinza claro de fundo)
- Exemplo: 28px ‚Üí --spacing-lg (mais pr√≥ximo de 32px)

üìÅ ARQUIVOS CRIADOS/MODIFICADOS
- [caminho/do/arquivo.tsx]
- [caminho/do/outro-arquivo.ts]

üî® BUILD STATUS
‚úÖ Sucesso (tentativas: [n√∫mero])
ou
‚ùå Falha (motivo: [descri√ß√£o])
   ‚Üí Corre√ß√µes aplicadas: [lista]
   ‚Üí ‚úÖ Sucesso na tentativa [n√∫mero]

üíæ COMMIT REALIZADO
[tipo]: [descri√ß√£o curta]
Exemplo: feat: implementa sidebar desktop com estados expandido/colapsado
Hash: [abc123]

ü§î PR√ìXIMOS PASSOS
‚è≠Ô∏è PROMPT [N+1]: [Nome do Pr√≥ximo Prompt]

Comandos dispon√≠veis:
- "Pr√≥ximo" ‚Üí Avan√ßar para pr√≥ximo prompt
- "Revisar [arquivo]" ‚Üí Revisar arquivo espec√≠fico
- "Refazer" ‚Üí Refazer prompt atual com corre√ß√µes
- "Status" ‚Üí Ver progresso geral
- "Tokens" ‚Üí Ver mapeamento completo de convers√µes
```

> Este formato √© **OBRIGAT√ìRIO** e n√£o pode ser omitido ou simplificado.

---

## üîπ Qualidade, performance e seguran√ßa

**Performance:**
- Evitar re-renderiza√ß√µes desnecess√°rias
- Usar memoiza√ß√£o apenas quando fizer sentido
- C√≥digo deve ser previs√≠vel e f√°cil de debugar

**Seguran√ßa e escopo:**
- N√£o adicionar novas depend√™ncias sem solicita√ß√£o expl√≠cita
- N√£o refatorar c√≥digo fora do escopo pedido
- Nunca expor chaves, tokens ou segredos
- Considerar toda entrada do usu√°rio como n√£o confi√°vel

---

# 3Ô∏è‚É£ PROJECT COMMANDS (Atalhos de alto impacto)

## `/analisar`
Analise este c√≥digo buscando bugs, edge cases e melhorias.

---

## `/refatorar`
Refatore este c√≥digo melhorando legibilidade e manuten√ß√£o sem alterar o comportamento.

---

## `/performance`
Otimize este c√≥digo focando em performance.

---

## `/responsivo`
Garanta que este layout seja totalmente fluido e responsivo em desktop, tablet e mobile, sem overflow horizontal.

---

## `/layout-fluido`
Revise garantindo `width: 100%` em containers principais e uso correto de `max-width`.

---

## `/design-system`
Ajuste este componente para seguir rigorosamente o design system e tokens.

---

## `/tokens`
Garanta que todos os valores visuais usem apenas vari√°veis existentes do design system.

---

## `/explicar`
Explique este c√≥digo de forma clara e did√°tica, incluindo o prop√≥sito, fluxo de dados e decis√µes de design.
